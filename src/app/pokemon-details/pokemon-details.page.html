<div *ngIf="loading" class="flex items-center justify-center min-h-screen bg-gray-50">
  <div class="animate-spin rounded-full h-6 w-16 border-b-2 border-blue-500"></div>
</div>

<div *ngIf="!loading && pokemon" class="max-w-2xl mx-auto p-4 overflow-y-auto max-h-screen">
  <div class="relative flex flex-col items-center">
    <button
      (click)="goBack()"
      class="absolute top-4 left-4 flex items-center gap-2 px-3 py-2  transition-all duration-200"
    >
      <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
      </svg>
      <span class="font-medium text-sm">Voltar</span>
    </button>

    <img
      [src]="pokemon.sprites.front_default"
      [alt]="pokemon.name"
      class="w-40 h-40 object-contain mb-4 drop-shadow"
    />
    <h1 class="text-3xl font-bold capitalize mb-2">{{ pokemon.name }}</h1>
    <button
      (click)="toggleFavorite()"
      class="flex items-center gap-2 px-4 py-2 mb-4 rounded-lg border transition-all duration-200"
      [ngClass]="isFavorite()
        ? 'bg-red-100 border-red-400 text-red-600'
        : 'bg-gray-100 border-gray-300 text-gray-700 hover:bg-red-50 hover:border-red-300 hover:text-red-500'"
    >
      <svg *ngIf="isFavorite()" class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
        <path d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 18.343l-6.828-6.828a4 4 0 010-5.656z" />
      </svg>

      <svg *ngIf="!isFavorite()" class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round"
              d="M4.318 6.318a4.5 4.5 0 0 1 6.364 0L12 7.636l1.318-1.318a4.5 4.5 0 1 1 6.364 6.364L12 21.682 4.318 13.682a4.5 4.5 0 0 1 0-6.364z" />
      </svg>

      <span class="font-medium">
        {{ isFavorite() ? 'Remover dos favoritos' : 'Adicionar aos favoritos' }}
      </span>
    </button>

    <div class="w-full grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
      <div *ngFor="let desc of getAdditionalDescriptions()" class="flex flex-col bg-gray-50 p-3 rounded-lg shadow-inner">
        <span class="text-sm text-gray-500 font-semibold">{{ desc.label }}</span>
        <span class="text-lg font-medium capitalize">{{ desc.value }}</span>
      </div>
    </div>

    <div class="w-full mt-6">
      <h2 class="text-xl font-bold mb-2 text-gray-800 text-center">Sprites</h2>
      <div class="flex flex-wrap gap-4 justify-center">
        <img
          *ngFor="let img of getImages()"
          [src]="img"
          [alt]="pokemon.name + ' sprite'"
          class="w-24 h-24 object-contain bg-gray-100 rounded-lg border"
        />
      </div>
    </div>
  </div>
</div>
